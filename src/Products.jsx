import { useState, useEffect } from 'react'
import './Products.css'

function Products({ onBack }) {
  const [products, setProducts] = useState([
    {
      id: 1,
      name: 'Auriculares Bluetooth Pro',
      category: 'Electrónica',
      sku: 'WH-2024-001',
      image: 'https://api.builder.io/api/v1/image/assets/TEMP/13e6e5aea6fb90c4b1aba81d7f0386383c658f71?width=120',
      locations: [
        { code: 'B-08, Der, C2-08' },
        { code: 'A-12, Izq, B3-15' },
        { code: '+2 más', isMore: true }
      ],
      stock: 147,
      status: 'Activo',
      statusClass: 'active'
    },
    {
      id: 2,
      name: 'Teclado Mecánico RGB',
      category: 'Periféricos',
      sku: 'KB-2024-045',
      image: 'https://api.builder.io/api/v1/image/assets/TEMP/993a0bc55eb7a0a13435bd5a5c10ac618f5cfbd0?width=120',
      locations: [
        { code: 'C-15, Der, D4-05' },
        { code: 'A-08, Izq, E1-12' }
      ],
      stock: 89,
      status: 'Activo',
      statusClass: 'active'
    },
    {
      id: 3,
      name: 'Mouse Inalámbrico Ergonómico',
      category: 'Periféricos',
      sku: 'MS-2024-089',
      image: 'https://api.builder.io/api/v1/image/assets/TEMP/f5f9b8b7f404b3e1e95233da39e250d7d18cde74?width=120',
      locations: [
        { code: 'B-08, Izq, A1-22' },
        { code: '+3 más', isMore: true }
      ],
      stock: 34,
      status: 'Stock Bajo',
      statusClass: 'low-stock'
    },
    {
      id: 4,
      name: 'Laptop Ultrabook 15"',
      category: 'Computadoras',
      sku: 'LT-2024-123',
      image: 'https://api.builder.io/api/v1/image/assets/TEMP/4cb3d683c499de7f278f13e1dd1d26bc528e99ba?width=120',
      locations: [
        { code: 'D-22, Der, F5-03' }
      ],
      stock: 0,
      status: 'Sin Stock',
      statusClass: 'out-of-stock'
    },
    {
      id: 5,
      name: 'Smartwatch Deportivo',
      category: 'Wearables',
      sku: 'SW-2024-067',
      image: 'https://api.builder.io/api/v1/image/assets/TEMP/9d41ca4041eb672918111632bd151fc0d502b201?width=120',
      locations: [
        { code: 'A-05, Izq, G2-18' },
        { code: 'C-11, Der, H3-09' }
      ],
      stock: 215,
      status: 'Activo',
      statusClass: 'active'
    }
  ])

  const [activeFilter, setActiveFilter] = useState('all')

  const getStockBarWidth = (stock) => {
    const maxStock = 250
    const percentage = (stock / maxStock) * 100
    return Math.min(percentage, 100)
  }

  const getStockBarColor = (stock) => {
    if (stock === 0) return 'linear-gradient(315deg, #E74C3C 64.64%, #C0392B 135.36%)'
    if (stock < 50) return 'linear-gradient(315deg, #F39C12 64.64%, #E67E22 135.36%)'
    return 'linear-gradient(315deg, #2ECC71 64.64%, #27AE60 135.36%)'
  }

  return (
    <div className="products-container">
      {/* Header */}
      <header className="products-header">
        <div className="header-left">
          <div className="header-info">
            <h1 className="page-title">Productos y Ubicaciones</h1>
          </div>
        </div>

        <div className="header-actions">
          <div className="search-box">
            <svg className="search-icon" width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M17.9421 17.0575L14.0304 13.1466C15.1642 11.7854 15.7295 10.0395 15.6089 8.27214C15.4882 6.50475 14.6908 4.85192 13.3825 3.65748C12.0743 2.46304 10.3559 1.81895 8.58486 1.8592C6.81382 1.89945 5.12647 2.62094 3.87383 3.87358C2.62118 5.12622 1.89969 6.81357 1.85944 8.58462C1.8192 10.3557 2.46328 12.074 3.65772 13.3823C4.85217 14.6906 6.505 15.488 8.27238 15.6086C10.0398 15.7293 11.7856 15.1639 13.1468 14.0302L17.0577 17.9419C17.1158 17.9999 17.1848 18.046 17.2606 18.0774C17.3365 18.1089 17.4178 18.125 17.4999 18.125C17.5821 18.125 17.6634 18.1089 17.7392 18.0774C17.8151 18.046 17.8841 17.9999 17.9421 17.9419C18.0002 17.8838 18.0463 17.8149 18.0777 17.739C18.1091 17.6631 18.1253 17.5818 18.1253 17.4997C18.1253 17.4176 18.1091 17.3363 18.0777 17.2604C18.0463 17.1845 18.0002 17.1156 17.9421 17.0575ZM3.12493 8.74969C3.12493 7.63717 3.45483 6.54963 4.07292 5.62461C4.691 4.69958 5.56951 3.97861 6.59734 3.55287C7.62517 3.12712 8.75617 3.01573 9.84732 3.23277C10.9385 3.44981 11.9407 3.98554 12.7274 4.77221C13.5141 5.55888 14.0498 6.56116 14.2669 7.65231C14.4839 8.74345 14.3725 9.87445 13.9468 10.9023C13.521 11.9301 12.8 12.8086 11.875 13.4267C10.95 14.0448 9.86245 14.3747 8.74993 14.3747C7.2586 14.373 5.82882 13.7799 4.77429 12.7253C3.71975 11.6708 3.12659 10.241 3.12493 8.74969Z" fill="#8B95A5"/>
            </svg>
            <input type="text" className="search-input" placeholder="Buscar productos..." />
          </div>

          <button className="notification-button">
            <svg className="notification-icon" width="22" height="22" viewBox="0 0 22 22" fill="none" xmlns="http://www.w3.org/2000/svg">
              <path d="M19.0609 15.1198C18.584 14.2983 17.875 11.9737 17.875 8.9375C17.875 7.11414 17.1507 5.36545 15.8613 4.07614C14.572 2.78683 12.8233 2.0625 11 2.0625C9.17662 2.0625 7.42793 2.78683 6.13862 4.07614C4.84931 5.36545 4.12498 7.11414 4.12498 8.9375C4.12498 11.9745 3.41514 14.2983 2.93818 15.1198C2.81638 15.3287 2.75181 15.566 2.75098 15.8078C2.75015 16.0496 2.81309 16.2873 2.93346 16.497C3.05382 16.7067 3.22735 16.8809 3.43654 17.0022C3.64573 17.1234 3.8832 17.1873 4.12498 17.1875H7.63209C7.79071 17.9637 8.21253 18.6612 8.82622 19.1622C9.43991 19.6631 10.2078 19.9367 11 19.9367C11.7922 19.9367 12.5601 19.6631 13.1737 19.1622C13.7874 18.6612 14.2093 17.9637 14.3679 17.1875H17.875C18.1167 17.1872 18.354 17.1231 18.5631 17.0018C18.7722 16.8805 18.9456 16.7063 19.0659 16.4966C19.1861 16.2869 19.249 16.0493 19.2481 15.8076C19.2472 15.5659 19.1827 15.3286 19.0609 15.1198ZM11 18.5625C10.5736 18.5624 10.1577 18.4301 9.80957 18.1838C9.46145 17.9376 9.19821 17.5895 9.05607 17.1875H12.9439C12.8018 17.5895 12.5385 17.9376 12.1904 18.1838C11.8423 18.4301 11.4264 18.5624 11 18.5625ZM4.12498 15.8125C4.7867 14.6747 5.49998 12.0381 5.49998 8.9375C5.49998 7.47881 6.07944 6.07986 7.11089 5.04841C8.14234 4.01696 9.54129 3.4375 11 3.4375C12.4587 3.4375 13.8576 4.01696 14.8891 5.04841C15.9205 6.07986 16.5 7.47881 16.5 8.9375C16.5 12.0355 17.2115 14.6721 17.875 15.8125H4.12498Z" fill="#4A5568"/>
            </svg>
          </button>
        </div>
      </header>

      {/* Content */}
      <div className="products-content">
        {/* Toolbar */}
        <div className="products-toolbar">
          <div className="toolbar-left">
            <button 
              className={`filter-button ${activeFilter === 'all' ? 'active' : ''}`}
              onClick={() => setActiveFilter('all')}
            >
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M5.34375 4.5C5.34375 4.27622 5.43265 4.06161 5.59088 3.90338C5.74911 3.74514 5.96372 3.65625 6.1875 3.65625H15.1875C15.4113 3.65625 15.6259 3.74514 15.7841 3.90338C15.9424 4.06161 16.0312 4.27622 16.0312 4.5C16.0312 4.72378 15.9424 4.93839 15.7841 5.09662C15.6259 5.25486 15.4113 5.34375 15.1875 5.34375H6.1875C5.96372 5.34375 5.74911 5.25486 5.59088 5.09662C5.43265 4.93839 5.34375 4.72378 5.34375 4.5ZM15.1875 8.15625H6.1875C5.96372 8.15625 5.74911 8.24514 5.59088 8.40338C5.43265 8.56161 5.34375 8.77622 5.34375 9C5.34375 9.22378 5.43265 9.43839 5.59088 9.59662C5.74911 9.75485 5.96372 9.84375 6.1875 9.84375H15.1875C15.4113 9.84375 15.6259 9.75485 15.7841 9.59662C15.9424 9.43839 16.0312 9.22378 16.0312 9C16.0312 8.77622 15.9424 8.56161 15.7841 8.40338C15.6259 8.24514 15.4113 8.15625 15.1875 8.15625ZM15.1875 12.6562H6.1875C5.96372 12.6562 5.74911 12.7451 5.59088 12.9034C5.43265 13.0616 5.34375 13.2762 5.34375 13.5C5.34375 13.7238 5.43265 13.9384 5.59088 14.0966C5.74911 14.2549 5.96372 14.3438 6.1875 14.3438H15.1875C15.4113 14.3438 15.6259 14.2549 15.7841 14.0966C15.9424 13.9384 16.0312 13.7238 16.0312 13.5C16.0312 13.2762 15.9424 13.0616 15.7841 12.9034C15.6259 12.7451 15.4113 12.6562 15.1875 12.6562ZM3.09375 7.875C2.87125 7.875 2.65374 7.94098 2.46873 8.0646C2.28373 8.18821 2.13953 8.36391 2.05439 8.56948C1.96924 8.77505 1.94696 9.00125 1.99037 9.21948C2.03378 9.43771 2.14092 9.63816 2.29826 9.79549C2.45559 9.95283 2.65605 10.06 2.87427 10.1034C3.0925 10.1468 3.3187 10.1245 3.52427 10.0394C3.72984 9.95422 3.90554 9.81002 4.02915 9.62502C4.15277 9.44001 4.21875 9.2225 4.21875 9C4.21875 8.70163 4.10022 8.41548 3.88925 8.20451C3.67827 7.99353 3.39212 7.875 3.09375 7.875ZM3.09375 3.375C2.87125 3.375 2.65374 3.44098 2.46873 3.5646C2.28373 3.68821 2.13953 3.86391 2.05439 4.06948C1.96924 4.27505 1.94696 4.50125 1.99037 4.71948C2.03378 4.93771 2.14092 5.13816 2.29826 5.29549C2.45559 5.45283 2.65605 5.55998 2.87427 5.60338C3.0925 5.64679 3.3187 5.62451 3.52427 5.53936C3.72984 5.45422 3.90554 5.31002 4.02915 5.12502C4.15277 4.94001 4.21875 4.7225 4.21875 4.5C4.21875 4.20163 4.10022 3.91548 3.88925 3.7045C3.67827 3.49353 3.39212 3.375 3.09375 3.375ZM3.09375 12.375C2.87125 12.375 2.65374 12.441 2.46873 12.5646C2.28373 12.6882 2.13953 12.8639 2.05439 13.0695C1.96924 13.275 1.94696 13.5012 1.99037 13.7195C2.03378 13.9377 2.14092 14.1382 2.29826 14.2955C2.45559 14.4528 2.65605 14.56 2.87427 14.6034C3.0925 14.6468 3.3187 14.6245 3.52427 14.5394C3.72984 14.4542 3.90554 14.31 4.02915 14.125C4.15277 13.94 4.21875 13.7225 4.21875 13.5C4.21875 13.2016 4.10022 12.9155 3.88925 12.7045C3.67827 12.4935 3.39212 12.375 3.09375 12.375Z" fill="white"/>
              </svg>
              <span>Todos</span>
              <span className="filter-count">247</span>
            </button>

            <button className={`filter-button ${activeFilter === 'active' ? 'active' : ''}`}
              onClick={() => setActiveFilter('active')}>
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M12.2105 6.91453C12.2628 6.96677 12.3043 7.02881 12.3326 7.0971C12.3609 7.16538 12.3754 7.23858 12.3754 7.3125C12.3754 7.38642 12.3609 7.45962 12.3326 7.5279C12.3043 7.59619 12.2628 7.65823 12.2105 7.71047L8.27297 11.648C8.22073 11.7003 8.15869 11.7418 8.09041 11.7701C8.02212 11.7984 7.94892 11.8129 7.875 11.8129C7.80108 11.8129 7.72789 11.7984 7.6596 11.7701C7.59131 11.7418 7.52928 11.7003 7.47703 11.648L5.78953 9.96047C5.68399 9.85492 5.62469 9.71177 5.62469 9.5625C5.62469 9.41323 5.68399 9.27008 5.78953 9.16453C5.89508 9.05898 6.03824 8.99969 6.1875 8.99969C6.33677 8.99969 6.47992 9.05898 6.58547 9.16453L7.875 10.4548L11.4145 6.91453C11.4668 6.86223 11.5288 6.82074 11.5971 6.79244C11.6654 6.76413 11.7386 6.74956 11.8125 6.74956C11.8864 6.74956 11.9596 6.76413 12.0279 6.79244C12.0962 6.82074 12.1582 6.86223 12.2105 6.91453ZM16.3125 9C16.3125 10.4463 15.8836 11.8601 15.0801 13.0626C14.2766 14.2651 13.1346 15.2024 11.7984 15.7559C10.4622 16.3093 8.99189 16.4541 7.57341 16.172C6.15492 15.8898 4.85196 15.1934 3.82928 14.1707C2.80661 13.148 2.11017 11.8451 1.82801 10.4266C1.54586 9.00811 1.69067 7.53781 2.24413 6.20163C2.7976 4.86544 3.73486 3.72339 4.9374 2.91988C6.13993 2.11637 7.55373 1.6875 9 1.6875C10.9388 1.68955 12.7975 2.46063 14.1685 3.83154C15.5394 5.20246 16.3105 7.06123 16.3125 9ZM15.1875 9C15.1875 7.77623 14.8246 6.57994 14.1447 5.56241C13.4648 4.54488 12.4985 3.75181 11.3679 3.2835C10.2372 2.81518 8.99314 2.69265 7.79288 2.93139C6.59262 3.17014 5.49012 3.75944 4.62478 4.62478C3.75944 5.49011 3.17014 6.59262 2.93139 7.79288C2.69265 8.99314 2.81518 10.2372 3.2835 11.3679C3.75182 12.4985 4.54488 13.4648 5.56241 14.1447C6.57994 14.8246 7.77623 15.1875 9 15.1875C10.6405 15.1856 12.2132 14.5331 13.3732 13.3732C14.5331 12.2132 15.1856 10.6405 15.1875 9Z" fill="#4A5568"/>
              </svg>
              <span>Activos</span>
            </button>

            <button className={`filter-button ${activeFilter === 'low' ? 'active' : ''}`}
              onClick={() => setActiveFilter('low')}>
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.65 13.2251L10.5012 2.54677C10.3475 2.28515 10.1282 2.06823 9.86487 1.91751C9.60155 1.76679 9.30342 1.6875 9.00002 1.6875C8.69662 1.6875 8.39849 1.76679 8.13517 1.91751C7.87186 2.06823 7.6525 2.28515 7.49885 2.54677L1.35002 13.2251C1.20218 13.4782 1.12427 13.766 1.12427 14.059C1.12427 14.3521 1.20218 14.6399 1.35002 14.8929C1.50171 15.1561 1.72069 15.3742 1.98449 15.5249C2.2483 15.6755 2.54743 15.7532 2.85119 15.75H15.1488C15.4524 15.753 15.7512 15.6751 16.0148 15.5245C16.2783 15.3739 16.497 15.1559 16.6486 14.8929C16.7967 14.64 16.8748 14.3523 16.8751 14.0592C16.8753 13.7662 16.7977 13.4783 16.65 13.2251ZM15.6748 14.3297C15.6212 14.4212 15.5442 14.4967 15.4518 14.5486C15.3594 14.6005 15.2548 14.6269 15.1488 14.625H2.85119C2.74522 14.6269 2.64066 14.6005 2.54824 14.5486C2.45582 14.4967 2.37886 14.4212 2.32526 14.3297C2.2767 14.2475 2.25109 14.1538 2.25109 14.0583C2.25109 13.9629 2.2767 13.8691 2.32526 13.7869L8.47408 3.10856C8.52877 3.01756 8.60608 2.94225 8.69848 2.88998C8.79089 2.8377 8.89526 2.81022 9.00143 2.81022C9.1076 2.81022 9.21196 2.8377 9.30437 2.88998C9.39678 2.94225 9.47409 3.01756 9.52877 3.10856L15.6776 13.7869C15.7257 13.8694 15.7509 13.9632 15.7504 14.0587C15.7499 14.1542 15.7238 14.2478 15.6748 14.3297ZM8.43752 10.125V7.31255C8.43752 7.16336 8.49679 7.02029 8.60227 6.9148C8.70776 6.80931 8.85084 6.75005 9.00002 6.75005C9.14921 6.75005 9.29228 6.80931 9.39777 6.9148C9.50326 7.02029 9.56252 7.16336 9.56252 7.31255V10.125C9.56252 10.2742 9.50326 10.4173 9.39777 10.5228C9.29228 10.6283 9.14921 10.6875 9.00002 10.6875C8.85084 10.6875 8.70776 10.6283 8.60227 10.5228C8.49679 10.4173 8.43752 10.2742 8.43752 10.125ZM9.84377 12.6563C9.84377 12.8232 9.79429 12.9863 9.70157 13.1251C9.60886 13.2638 9.47709 13.372 9.32291 13.4358C9.16874 13.4997 8.99909 13.5164 8.83541 13.4838C8.67174 13.4513 8.5214 13.3709 8.4034 13.2529C8.2854 13.1349 8.20504 12.9846 8.17248 12.8209C8.13993 12.6572 8.15664 12.4876 8.2205 12.3334C8.28436 12.1792 8.39251 12.0475 8.53126 11.9547C8.67001 11.862 8.83314 11.8125 9.00002 11.8125C9.2238 11.8125 9.43841 11.9014 9.59664 12.0597C9.75488 12.2179 9.84377 12.4325 9.84377 12.6563Z" fill="#4A5568"/>
              </svg>
              <span>Stock Bajo</span>
            </button>

            <button className={`filter-button ${activeFilter === 'out' ? 'active' : ''}`}
              onClick={() => setActiveFilter('out')}>
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.648 7.14797L9.79524 9L11.648 10.852C11.7002 10.9043 11.7417 10.9663 11.77 11.0346C11.7983 11.1029 11.8128 11.1761 11.8128 11.25C11.8128 11.3239 11.7983 11.3971 11.77 11.4654C11.7417 11.5337 11.7002 11.5957 11.648 11.648C11.5957 11.7002 11.5337 11.7417 11.4654 11.77C11.3971 11.7983 11.3239 11.8128 11.25 11.8128C11.1761 11.8128 11.1029 11.7983 11.0346 11.77C10.9663 11.7417 10.9043 11.7002 10.852 11.648L9 9.79523L7.14797 11.648C7.09571 11.7002 7.03367 11.7417 6.96538 11.77C6.8971 11.7983 6.82391 11.8128 6.75 11.8128C6.67609 11.8128 6.60291 11.7983 6.53462 11.77C6.46634 11.7417 6.4043 11.7002 6.35203 11.648C6.29977 11.5957 6.25832 11.5337 6.23003 11.4654C6.20175 11.3971 6.18719 11.3239 6.18719 11.25C6.18719 11.1761 6.20175 11.1029 6.23003 11.0346C6.25832 10.9663 6.29977 10.9043 6.35203 10.852L8.20477 9L6.35203 7.14797C6.24649 7.04242 6.18719 6.89927 6.18719 6.75C6.18719 6.60073 6.24649 6.45758 6.35203 6.35203C6.45758 6.24648 6.60074 6.18719 6.75 6.18719C6.89927 6.18719 7.04242 6.24648 7.14797 6.35203L9 8.20477L10.852 6.35203C10.9043 6.29977 10.9663 6.25831 11.0346 6.23003C11.1029 6.20174 11.1761 6.18719 11.25 6.18719C11.3239 6.18719 11.3971 6.20174 11.4654 6.23003C11.5337 6.25831 11.5957 6.29977 11.648 6.35203C11.7002 6.40429 11.7417 6.46634 11.77 6.53462C11.7983 6.6029 11.8128 6.67609 11.8128 6.75C11.8128 6.82391 11.7983 6.8971 11.77 6.96538C11.7417 7.03366 11.7002 7.09571 11.648 7.14797ZM16.3125 9C16.3125 10.4463 15.8836 11.8601 15.0801 13.0626C14.2766 14.2651 13.1346 15.2024 11.7984 15.7559C10.4622 16.3093 8.99189 16.4541 7.57341 16.172C6.15492 15.8898 4.85196 15.1934 3.82928 14.1707C2.80661 13.148 2.11017 11.8451 1.82801 10.4266C1.54586 9.00811 1.69067 7.53781 2.24413 6.20163C2.7976 4.86544 3.73486 3.72339 4.9374 2.91988C6.13993 2.11637 7.55373 1.6875 9 1.6875C10.9388 1.68955 12.7975 2.46063 14.1685 3.83154C15.5394 5.20246 16.3105 7.06123 16.3125 9ZM15.1875 9C15.1875 7.77623 14.8246 6.57994 14.1447 5.56241C13.4648 4.54488 12.4985 3.75181 11.3679 3.2835C10.2372 2.81518 8.99314 2.69265 7.79288 2.93139C6.59262 3.17014 5.49012 3.75944 4.62478 4.62478C3.75944 5.49011 3.17014 6.59262 2.93139 7.79288C2.69265 8.99314 2.81518 10.2372 3.2835 11.3679C3.75182 12.4985 4.54488 13.4648 5.56241 14.1447C6.57994 14.8246 7.77623 15.1875 9 15.1875C10.6405 15.1856 12.2132 14.5331 13.3732 13.3732C14.5331 12.2132 15.1856 10.6405 15.1875 9Z" fill="#4A5568"/>
              </svg>
              <span>Sin Stock</span>
            </button>
          </div>

          <div className="toolbar-right">
            <button className="export-button">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.0312 10.6875V14.625C16.0312 14.998 15.8831 15.3556 15.6194 15.6194C15.3556 15.8831 14.998 16.0312 14.625 16.0312H3.375C3.00204 16.0312 2.64435 15.8831 2.38063 15.6194C2.11691 15.3556 1.96875 14.998 1.96875 14.625V10.6875C1.96875 10.4637 2.05764 10.2491 2.21588 10.0909C2.37411 9.93265 2.58872 9.84375 2.8125 9.84375C3.03628 9.84375 3.25089 9.93265 3.40912 10.0909C3.56736 10.2491 3.65625 10.4637 3.65625 10.6875V14.3438H14.3438V10.6875C14.3438 10.4637 14.4326 10.2491 14.5909 10.0909C14.7491 9.93265 14.9637 9.84375 15.1875 9.84375C15.4113 9.84375 15.6259 9.93265 15.7841 10.0909C15.9424 10.2491 16.0312 10.4637 16.0312 10.6875ZM8.40305 11.2845C8.48143 11.3631 8.57458 11.4255 8.67714 11.4681C8.7797 11.5107 8.88965 11.5326 9.0007 11.5326C9.11175 11.5326 9.22171 11.5107 9.32427 11.4681C9.42683 11.4255 9.51997 11.3631 9.59836 11.2845L12.4109 8.47195C12.5694 8.31344 12.6584 8.09846 12.6584 7.8743C12.6584 7.65013 12.5694 7.43515 12.4109 7.27664C12.2524 7.11813 12.0374 7.02908 11.8132 7.02908C11.589 7.02908 11.3741 7.11813 11.2155 7.27664L9.84375 8.64844V2.8125C9.84375 2.58872 9.75485 2.37411 9.59662 2.21588C9.43839 2.05764 9.22378 1.96875 9 1.96875C8.77622 1.96875 8.56161 2.05764 8.40338 2.21588C8.24514 2.37411 8.15625 2.58872 8.15625 2.8125V8.64844L6.78445 7.27805C6.62594 7.11954 6.41096 7.03049 6.1868 7.03049C5.96263 7.03049 5.74765 7.11954 5.58914 7.27805C5.43063 7.43656 5.34158 7.65154 5.34158 7.8757C5.34158 8.09987 5.43063 8.31485 5.58914 8.47336L8.40305 11.2845Z" fill="#4A5568"/>
              </svg>
              <span>Exportar</span>
            </button>

            <button className="new-product-button">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M16.0312 9C16.0312 9.22378 15.9424 9.43839 15.7841 9.59662C15.6259 9.75485 15.4113 9.84375 15.1875 9.84375H9.84375V15.1875C9.84375 15.4113 9.75485 15.6259 9.59662 15.7841C9.43839 15.9424 9.22378 16.0312 9 16.0312C8.77622 16.0312 8.56161 15.9424 8.40338 15.7841C8.24514 15.6259 8.15625 15.4113 8.15625 15.1875V9.84375H2.8125C2.58872 9.84375 2.37411 9.75485 2.21588 9.59662C2.05764 9.43839 1.96875 9.22378 1.96875 9C1.96875 8.77622 2.05764 8.56161 2.21588 8.40338C2.37411 8.24514 2.58872 8.15625 2.8125 8.15625H8.15625V2.8125C8.15625 2.58872 8.24514 2.37411 8.40338 2.21588C8.56161 2.05764 8.77622 1.96875 9 1.96875C9.22378 1.96875 9.43839 2.05764 9.59662 2.21588C9.75485 2.37411 9.84375 2.58872 9.84375 2.8125V8.15625H15.1875C15.4113 8.15625 15.6259 8.24514 15.7841 8.40338C15.9424 8.56161 16.0312 8.77622 16.0312 9Z" fill="white"/>
              </svg>
              <span>Nuevo Producto</span>
            </button>
          </div>
        </div>

        {/* Products Table */}
        <div className="products-table">
          <div className="products-table-header">
            <div>PRODUCTO</div>
            <div>SKU</div>
            <div>UBICACIONES</div>
            <div>STOCK TOTAL</div>
            <div>ESTADO</div>
            <div>ACCIONES</div>
          </div>

          <div className="products-table-body">
            {products.map((product) => (
              <div key={product.id} className="product-row">
                <div className="product-cell-product">
                  <div className="product-image-box">
                    <img src={product.image} alt={product.name} className="product-image" />
                  </div>
                  <div className="product-details">
                    <div className="product-name">{product.name}</div>
                    <div className="product-category">{product.category}</div>
                  </div>
                </div>

                <div className="product-cell-sku">
                  <div className="product-sku">{product.sku}</div>
                </div>

                <div className="product-cell-locations">
                  {product.locations.map((location, index) => (
                    <div key={index} className={`location-item ${location.isMore ? 'location-more' : ''}`}>
                      {!location.isMore && (
                        <svg width="14" height="14" viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path d="M7 0.875C5.72409 0.876447 4.50085 1.38394 3.59865 2.28615C2.69644 3.18835 2.18895 4.41159 2.1875 5.6875C2.1875 9.80547 6.5625 12.9155 6.74898 13.0457C6.82255 13.0972 6.91018 13.1249 7 13.1249C7.08982 13.1249 7.17745 13.0972 7.25102 13.0457C7.4375 12.9155 11.8125 9.80547 11.8125 5.6875C11.8111 4.41159 11.3036 3.18835 10.4014 2.28615C9.49915 1.38394 8.27591 0.876447 7 0.875ZM7 3.9375C7.34612 3.9375 7.68446 4.04014 7.97225 4.23243C8.26003 4.42472 8.48434 4.69803 8.61679 5.0178C8.74924 5.33757 8.7839 5.68944 8.71637 6.02891C8.64885 6.36837 8.48218 6.6802 8.23744 6.92494C7.99269 7.16968 7.68087 7.33635 7.34141 7.40387C7.00194 7.4714 6.65007 7.43674 6.3303 7.30429C6.01053 7.17184 5.73722 6.94753 5.54493 6.65975C5.35264 6.37196 5.25 6.03362 5.25 5.6875C5.25 5.22337 5.43437 4.77825 5.76256 4.45006C6.09075 4.12187 6.53587 3.9375 7 3.9375Z" fill="#667EEA"/>
                        </svg>
                      )}
                      <span>{location.code}</span>
                    </div>
                  ))}
                </div>

                <div className="product-cell-stock">
                  <div className="stock-number">{product.stock}</div>
                  <div className="stock-label">unidades</div>
                  <div className="stock-bar">
                    <div 
                      className="stock-bar-fill" 
                      style={{ 
                        width: `${getStockBarWidth(product.stock)}%`,
                        background: getStockBarColor(product.stock)
                      }}
                    ></div>
                  </div>
                </div>

                <div className="product-cell-status">
                  <div className={`product-status-badge ${product.statusClass}`}>
                    {product.status}
                  </div>
                </div>

                <div className="product-cell-actions">
                  <button className="product-action-button view">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <g clipPath="url(#clip0_326_120)">
                        <path d="M17.6484 8.65758C17.6224 8.60062 17.0065 7.23305 15.6459 5.8725C13.8255 4.05492 11.5312 3.09375 8.99997 3.09375C6.46872 3.09375 4.17442 4.05492 2.35614 5.8725C0.995596 7.23305 0.379658 8.60062 0.351533 8.65758C0.303899 8.76558 0.279297 8.88232 0.279297 9.00035C0.279297 9.11839 0.303899 9.23513 0.351533 9.34313C0.377549 9.40078 0.993487 10.7677 2.35474 12.1282C4.17442 13.9458 6.46872 14.9062 8.99997 14.9062C11.5312 14.9062 13.8255 13.9458 15.6431 12.1282C17.0043 10.7677 17.6203 9.40078 17.6463 9.34313C17.6943 9.23527 17.7192 9.11861 17.7196 9.00057C17.72 8.88254 17.6957 8.76572 17.6484 8.65758ZM14.4098 10.9779C12.9002 12.4643 11.0805 13.2188 8.99997 13.2188C6.91942 13.2188 5.09974 12.4643 3.59224 10.9772C2.99904 10.3902 2.48878 9.72503 2.0756 9C2.4889 8.27526 2.99915 7.6103 3.59224 7.02352C5.10044 5.5357 6.91942 4.78125 8.99997 4.78125C11.0805 4.78125 12.8995 5.5357 14.4077 7.02352C15.0008 7.61025 15.5111 8.27522 15.9243 9C15.5111 9.72499 15.0008 10.3902 14.4077 10.9772L14.4098 10.9779ZM8.99997 5.90625C8.38809 5.90625 7.78994 6.0877 7.28118 6.42764C6.77241 6.76759 6.37588 7.25076 6.14172 7.81607C5.90756 8.38138 5.84629 9.00343 5.96567 9.60356C6.08504 10.2037 6.37969 10.7549 6.81236 11.1876C7.24503 11.6203 7.79628 11.9149 8.39641 12.0343C8.99654 12.1537 9.61859 12.0924 10.1839 11.8583C10.7492 11.6241 11.2324 11.2276 11.5723 10.7188C11.9123 10.21 12.0937 9.61189 12.0937 9C12.0928 8.17977 11.7665 7.39341 11.1866 6.81342C10.6066 6.23343 9.8202 5.90718 8.99997 5.90625ZM8.99997 10.4062C8.72184 10.4062 8.44996 10.3238 8.2187 10.1693C7.98744 10.0147 7.8072 9.79511 7.70077 9.53815C7.59433 9.28119 7.56648 8.99844 7.62074 8.72565C7.675 8.45287 7.80893 8.2023 8.0056 8.00563C8.20227 7.80896 8.45284 7.67503 8.72563 7.62077C8.99841 7.56651 9.28116 7.59436 9.53812 7.70079C9.79508 7.80723 10.0147 7.98747 10.1692 8.21873C10.3237 8.44999 10.4062 8.72187 10.4062 9C10.4062 9.37296 10.2581 9.73065 9.99434 9.99437C9.73062 10.2581 9.37293 10.4062 8.99997 10.4062Z" fill="white"/>
                      </g>
                      <defs>
                        <clipPath id="clip0_326_120">
                          <rect width="18" height="18" fill="white"/>
                        </clipPath>
                      </defs>
                    </svg>
                  </button>

                  <button className="product-action-button edit">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M15.9827 5.15936L12.8412 2.0171C12.7367 1.9126 12.6127 1.82971 12.4762 1.77316C12.3397 1.71661 12.1934 1.6875 12.0456 1.6875C11.8978 1.6875 11.7515 1.71661 11.615 1.77316C11.4785 1.82971 11.3545 1.9126 11.25 2.0171L2.57977 10.688C2.47485 10.7921 2.39167 10.916 2.33506 11.0525C2.27844 11.1891 2.24953 11.3355 2.25001 11.4833V14.6255C2.25001 14.9239 2.36853 15.21 2.57951 15.421C2.79049 15.632 3.07664 15.7505 3.37501 15.7505H6.51727C6.66506 15.751 6.81147 15.7221 6.94799 15.6655C7.08451 15.6089 7.20842 15.5257 7.31251 15.4208L15.9827 6.75053C16.0872 6.64606 16.1701 6.52203 16.2267 6.38553C16.2832 6.24902 16.3123 6.10271 16.3123 5.95495C16.3123 5.80719 16.2832 5.66088 16.2267 5.52437C16.1701 5.38786 16.0872 5.26383 15.9827 5.15936ZM3.60774 11.2505L9.56251 5.29577L10.736 6.46928L4.78126 12.4233L3.60774 11.2505ZM3.37501 12.6083L5.39227 14.6255H3.37501V12.6083ZM6.75001 14.3928L5.57649 13.2193L11.5313 7.26452L12.7048 8.43803L6.75001 14.3928ZM13.5 7.6428L10.3577 4.50053L12.0452 2.81303L15.1875 5.9546L13.5 7.6428Z" fill="#4A5568"/>
                    </svg>
                  </button>

                  <button className="product-action-button more">
                    <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path d="M7.875 4.21875C7.875 3.99625 7.94098 3.77874 8.0646 3.59373C8.18821 3.40873 8.36392 3.26453 8.56948 3.17939C8.77505 3.09424 9.00125 3.07196 9.21948 3.11537C9.43771 3.15878 9.63816 3.26592 9.7955 3.42326C9.95283 3.58059 10.06 3.78105 10.1034 3.99927C10.1468 4.2175 10.1245 4.4437 10.0394 4.64927C9.95422 4.85484 9.81002 5.03054 9.62502 5.15415C9.44001 5.27777 9.2225 5.34375 9 5.34375C8.70163 5.34375 8.41548 5.22522 8.20451 5.01425C7.99353 4.80327 7.875 4.51712 7.875 4.21875ZM9 7.875C8.7775 7.875 8.55999 7.94098 8.37498 8.0646C8.18998 8.18821 8.04578 8.36391 7.96064 8.56948C7.87549 8.77505 7.85321 9.00125 7.89662 9.21948C7.94003 9.43771 8.04717 9.63816 8.20451 9.7955C8.36184 9.95283 8.5623 10.06 8.78052 10.1034C8.99875 10.1468 9.22495 10.1245 9.43052 10.0394C9.63609 9.95422 9.81179 9.81002 9.9354 9.62502C10.059 9.44001 10.125 9.2225 10.125 9C10.125 8.70163 10.0065 8.41548 9.7955 8.20451C9.58452 7.99353 9.29837 7.875 9 7.875ZM9 12.6563C8.7775 12.6563 8.55999 12.7222 8.37498 12.8458C8.18998 12.9695 8.04578 13.1452 7.96064 13.3507C7.87549 13.5563 7.85321 13.7825 7.89662 14.0007C7.94003 14.219 8.04717 14.4194 8.20451 14.5767C8.36184 14.7341 8.5623 14.8412 8.78052 14.8846C8.99875 14.928 9.22495 14.9058 9.43052 14.8206C9.63609 14.7355 9.81179 14.5913 9.9354 14.4063C10.059 14.2213 10.125 14.0038 10.125 13.7813C10.125 13.4829 10.0065 13.1967 9.7955 12.9858C9.58452 12.7748 9.29837 12.6563 9 12.6563Z" fill="#4A5568"/>
                    </svg>
                  </button>
                </div>
              </div>
            ))}
          </div>

          {/* Pagination */}
          <div className="products-pagination">
            <div className="pagination-info">
              Mostrando 1-5 de 247 productos
            </div>
            <div className="pagination-controls">
              <button className="pagination-button">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M10.5307 12.4701C10.6715 12.6109 10.7507 12.802 10.7507 13.0013C10.7507 13.2006 10.6715 13.3917 10.5307 13.5326C10.3898 13.6734 10.1987 13.7526 9.9994 13.7526C9.80014 13.7526 9.60905 13.6734 9.46815 13.5326L4.46815 8.53255C4.39823 8.46287 4.34275 8.38008 4.3049 8.28891C4.26704 8.19775 4.24756 8.10001 4.24756 8.0013C4.24756 7.90259 4.26704 7.80485 4.3049 7.71369C4.34275 7.62252 4.39823 7.53973 4.46815 7.47005L9.46815 2.47005C9.60905 2.32915 9.80014 2.25 9.9994 2.25C10.1987 2.25 10.3898 2.32915 10.5307 2.47005C10.6715 2.61095 10.7507 2.80204 10.7507 3.0013C10.7507 3.20056 10.6715 3.39165 10.5307 3.53255L6.06252 8.00068L10.5307 12.4701Z" fill="#4A5568"/>
                </svg>
              </button>
              <button className="pagination-button active">1</button>
              <button className="pagination-button">2</button>
              <button className="pagination-button">3</button>
              <button className="pagination-button">...</button>
              <button className="pagination-button">50</button>
              <button className="pagination-button">
                <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M11.5306 8.5306L6.5306 13.5306C6.3897 13.6715 6.19861 13.7506 5.99935 13.7506C5.80009 13.7506 5.60899 13.6715 5.4681 13.5306C5.3272 13.3897 5.24805 13.1986 5.24805 12.9993C5.24805 12.8001 5.3272 12.609 5.4681 12.4681L9.93747 7.99997L5.46935 3.5306C5.39958 3.46083 5.34424 3.37801 5.30649 3.28686C5.26873 3.19571 5.2493 3.09801 5.2493 2.99935C5.2493 2.90069 5.26873 2.80299 5.30649 2.71184C5.34424 2.62069 5.39958 2.53786 5.46935 2.4681C5.53911 2.39833 5.62194 2.34299 5.71309 2.30524C5.80424 2.26748 5.90194 2.24805 6.0006 2.24805C6.09926 2.24805 6.19696 2.26748 6.28811 2.30524C6.37926 2.34299 6.46208 2.39833 6.53185 2.4681L11.5318 7.4681C11.6017 7.53786 11.6571 7.62072 11.6948 7.71193C11.7326 7.80313 11.7519 7.9009 11.7518 7.99961C11.7517 8.09832 11.7321 8.19603 11.6941 8.28715C11.6562 8.37827 11.6006 8.461 11.5306 8.5306Z" fill="#4A5568"/>
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  )
}

export default Products
